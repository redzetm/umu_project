.\" NOTES.roff - design notes for umu_head
.\" 日本語の設計メモ（roff）
.TH UMU_HEAD_NOTES 7 "2026-01-02" "UmuOS" "設計ノート"

.SH 概要
この文書は、\fBumu_head\fP を「最低限動く」水準まで削ぎ落とした際の
設計判断、削除した機能、参照元（GNU coreutils の head 実装）との差分思想をまとめる。

.SH 設計判断（理由）
.IP \[bu] 2
\fB最小仕様を固定\fP: まず「先頭 N 行」を核として成立させる。
head は本来オプションが多いが、学習の入口では仕様を小さく固定した方が追いやすい。
.IP \[bu] 2
\fB-n のみ実装\fP: デフォルト 10 行 + `-n N` だけで実用性が確保でき、
一方で `-c`（バイト数）は別系統の仕様（部分行、文字境界等）を持つため切り離す。
.IP \[bu] 2
\fB自己完結\fP: gnulib/coreutils の共通部を使わず、標準 C の範囲で完結させる。
UmuOS の最小ユーザーランドでは依存が少ない方が価値が高い。
.IP \[bu] 2
\fB慣習の継承\fP: `-` を標準入力として扱う UNIX 文化の規約は残す。

.SH 削った機能一覧
.TP
\fB-c（バイト数指定）\fP
行ベースとは異なる仕様のため未実装。
.TP
\fB複数ファイル時のヘッダ表示（-v/-q 等）\fP
表示整形は本質ではないため未実装。
.TP
\fB--help/--version と i18n\fP
仕様提示・翻訳・共通化は有用だが、最小版では依存と読解コストが大きい。

.SH 参照元（coreutils head.c）との差分思想
.IP \[bu] 2
\fBまず“核”を独立させる\fP: coreutils 版は多機能・高互換・広い環境を対象にする。
UmuOS の解析では、核を独立させてから必要な層だけ戻す。
.IP \[bu] 2
\fB仕様は man に寄せ、理由は NOTES に置く\fP:
実装を短く保ち、読者が仕様と意図を別々に辿れるようにする。

.SH 今後拡張するなら
.IP \[bu] 2
`--help/--version`
.IP \[bu] 2
`-q`/`-v`（複数ファイル時の表示方針を文章化してから）
.IP \[bu] 2
`-c`（バイト数の仕様を別途設計してから）
